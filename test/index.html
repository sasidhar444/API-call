<!DOCTYPE html>
<html>
	<head>
		<title>JavaScript - Get selected value from dropdown list</title>
	</head>

	<body>

		<h1>JavaScript - Get selected value from dropdown list</h1>

		
		
		<select id="machine-type" onchange="GetSelectedValue()">
			<option value="None">-- Select --</option>
			<option value="n1-standard-1">n1-standard-1</option>
			<option value="n1-standard-2">n1-standard-2</option>
			<option value="n1-standard-4">n1-standard-4</option>
			<option value="n1-standard-8">n1-standard-8</option>
			<option value="n1-standard-16">n1-standard-16</option>
			<option value="n1-standard-32">n1-standard-32</option>
			<option value="n1-standard-64">n1-standard-64</option>
			<option value="n1-standard-96">n1-standard-96</option>
		</select>

		<script>

			var result;

			function GetSelectedValue(){
				var e = document.getElementById("machine-type");
				 result = e.options[e.selectedIndex].value;
                                 
                           
				if(result == "n1-standard-1"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD1.us_central1);
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  " +  data.gcp_price_list.STANDARD1.us_central1 + "$";
                                
    				})
				})
				}


				if(result == "n1-standard-2"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD2.us_central1);
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  " +  data.gcp_price_list.STANDARD2.us_central1 + "$";
                                
    				})
				})
				}
			
				if(result == "n1-standard-4"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD4.us_central1);
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  " +  data.gcp_price_list.STANDARD4.us_central1 + "$";
                                
    				})
				})
				}

				if(result == "n1-standard-8"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD8.us_central1);
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  " +  data.gcp_price_list.STANDARD8.us_central1 + "$";
                                
    				})
				})
				}

				if(result == "n1-standard-16"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD16.us_central1);
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  " +  data.gcp_price_list.STANDARD16.us_central1 + "$";
                                
    				})
				})
				}

				if(result == "n1-standard-32"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD32.us_central1);
        			document.getElementById('paraId').innerHTML ="Estimated Cost is  " +   data.gcp_price_list.STANDARD32.us_central1 + "$";
                                
    				})
				})
				}

				if(result == "n1-standard-64"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD64.us_central1);
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  " +  data.gcp_price_list.STANDARD64.us_central1 + "$";
                                
    				})
				})
				}

				if(result == "n1-standard-96"){
				fetch('https://storage.googleapis.com/hostapi/pricelist.json').then((res)=> {
    				res.json().then((data) => {                                
        			console.log(data.gcp_price_list.STANDARD96.us_central1);
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  " +  data.gcp_price_list.STANDARD96.us_central1 + "$";
                                
    				})
				})
				}

				if(result == "None"){
		
        			document.getElementById('paraId').innerHTML = "Estimated Cost is  0$";
                                
    				
				}

				
				document.getElementById("result").innerHTML = result;
			}

			function GetSelectedText(){
				var e = document.getElementById("machine-type");
				var result = e.options[e.selectedIndex].text;
				
				document.getElementById("result").innerHTML = result;
			}
			
		</script>

		<br/>
		<br/>
	        <button type="button" onclick="GetSelectedValue()">Get Selected Value</button>

		<button type="button" onclick="GetSelectedText()">Get Selected Text</button>

 		<br/>
		<br/>

		<p id="result"></p>
		
		<p id="paraId"></p>
		
	</body>

</html>